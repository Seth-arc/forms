<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AidData Global South Origin Scholarship Application</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/aiddata_icon.ico">
    
    <!-- EmailJS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    
    <!-- Vercel Analytics -->
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
    
    <!-- Load Global South Countries Data -->
    <script>
        // Global South Countries Data (embedded for offline functionality)
        // Complete list of 125 eligible countries from global_south_countries.json
        const globalSouthData = {
            "africa": ["Algeria", "Angola", "Benin", "Botswana", "Burkina Faso", "Burundi", "Cabo Verde", "Cameroon", "Central African Republic", "Chad", "Comoros", "Democratic Republic of the Congo", "Republic of the Congo", "C√¥te d'Ivoire", "Djibouti", "Egypt", "Equatorial Guinea", "Eritrea", "Eswatini", "Ethiopia", "Gabon", "Gambia", "Ghana", "Guinea", "Guinea-Bissau", "Kenya", "Lesotho", "Liberia", "Libya", "Madagascar", "Malawi", "Mali", "Mauritania", "Mauritius", "Morocco", "Mozambique", "Namibia", "Niger", "Nigeria", "Rwanda", "S√£o Tom√© and Pr√≠ncipe", "Senegal", "Seychelles", "Sierra Leone", "Somalia", "South Africa", "South Sudan", "Sudan", "Tanzania", "Togo", "Tunisia", "Uganda", "Zambia"],
            "asia": ["Bangladesh", "Bhutan", "Brunei", "Cambodia", "China", "India", "Indonesia", "Iraq", "Jordan", "Kazakhstan", "Kyrgyzstan", "Laos", "Lebanon", "Malaysia", "Maldives", "Mongolia", "Nepal", "Oman", "Pakistan", "Philippines", "Qatar", "Saudi Arabia", "Sri Lanka", "Tajikistan", "Thailand", "Timor-Leste", "Turkmenistan", "United Arab Emirates", "Uzbekistan", "Vietnam", "Yemen"],
            "latin_america_caribbean": ["Antigua and Barbuda", "Argentina", "Bahamas", "Barbados", "Belize", "Bolivia", "Brazil", "Chile", "Colombia", "Costa Rica", "Dominica", "Dominican Republic", "Ecuador", "El Salvador", "Grenada", "Guatemala", "Guyana", "Haiti", "Honduras", "Jamaica", "Mexico", "Panama", "Paraguay", "Peru", "Saint Kitts and Nevis", "Saint Lucia", "Saint Vincent and the Grenadines", "Suriname", "Trinidad and Tobago", "Uruguay"],
            "oceania": ["Fiji", "Kiribati", "Marshall Islands", "Micronesia", "Nauru", "Palau", "Papua New Guinea", "Samoa", "Solomon Islands", "Tonga", "Tuvalu", "Vanuatu"]
        };
        
        // Get all Global South countries as a flat array
        const allGlobalSouthCountries = [
            ...globalSouthData.africa,
            ...globalSouthData.asia,
            ...globalSouthData.latin_america_caribbean,
            ...globalSouthData.oceania
        ];
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background-color: #f8f9fa;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #ffffff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        /* Header */
        .header {
            padding: 30px 30px 20px 30px;
            background-color: #ffffff;
        }

        .logo {
            height: 35px;
            width: auto;
        }

        /* Main Content */
        .main-content {
            padding: 0 30px 40px 30px;
            flex: 1;
        }

        .page-title {
            text-align: center;
            margin-bottom: 40px;
        }

        .page-title h1 {
            color: #115740;
            font-size: 36px;
            font-weight: 300;
            margin-bottom: 15px;
            letter-spacing: -0.5px;
        }

        .divider {
            width: 60px;
            height: 2px;
            background-color: #115740;
            margin: 0 auto 20px auto;
            opacity: 0.3;
        }

        .page-title p {
            font-size: 16px;
            color: #555;
            max-width: 600px;
            margin: 0 auto;
            font-weight: 300;
        }

        /* Form Styles */
        .form-container {
            background-color: #ffffff;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 30px;
        }

        .form-section {
            margin-bottom: 40px;
        }

        .form-section:last-child {
            margin-bottom: 0;
        }

        .section-title {
            color: #115740;
            font-size: 20px;
            font-weight: 500;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e9ecef;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
        }

        .form-col {
            flex: 1;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 500;
            font-size: 14px;
        }

        .required {
            color: #e74c3c;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.3s ease;
            background-color: #ffffff;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #115740;
            box-shadow: 0 0 0 2px rgba(17, 87, 64, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 120px;
        }

        select {
            cursor: pointer;
        }

        .checkbox-group,
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .checkbox-item,
        .radio-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        input[type="checkbox"],
        input[type="radio"] {
            width: auto;
            margin: 4px 0 0 0;
            flex-shrink: 0;
        }

        .checkbox-item label,
        .radio-item label {
            margin: 0;
            cursor: pointer;
            font-weight: 400;
            line-height: 1.5;
        }

        /* Submit Button */
        .submit-container {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #e9ecef;
        }

        .submit-btn {
            background-color: #115740;
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 200px;
        }

        .submit-btn:hover {
            background-color: #0d4530;
            transform: translateY(-1px);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* Loading and Success States */
        .loading {
            display: none;
            margin-top: 15px;
            color: #666;
            font-style: italic;
        }

        .success-message {
            display: none;
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 6px;
            margin-top: 20px;
            border: 1px solid #c3e6cb;
        }

        .error-message {
            display: none;
            background-color: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 6px;
            margin-top: 20px;
            border: 1px solid #f5c6cb;
        }

        /* Footer */
        .footer {
            background-color: #115740;
            padding: 25px 30px;
            text-align: center;
            color: white;
            margin-top: auto;
        }

        .footer p {
            margin-bottom: 10px;
            font-size: 14px;
        }

        .footer a {
            color: #C8A882;
            text-decoration: underline;
        }

        .footer-divider {
            width: 100%;
            height: 1px;
            background-color: rgba(255,255,255,0.3);
            margin: 20px 0;
        }

        .wm-logo {
            height: 60px;
            width: auto;
        }

        /* Form Validation Styles */
        .invalid {
            border-color: #e74c3c !important;
            box-shadow: 0 0 0 2px rgba(231, 76, 60, 0.1) !important;
        }

        .error-text {
            color: #e74c3c;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        /* Special styling for origin verification section */
        .origin-verification {
            background-color: #f8fcfa;
            border: 2px solid #c3e6cb;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .origin-title {
            color: #115740;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .origin-title::before {
            content: "üåç";
            font-size: 20px;
        }

        .origin-description {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .info-box {
            background-color: #d1ecf1;
            color: #0c5460;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            border-left: 4px solid #17a2b8;
        }

        .info-box strong {
            display: block;
            margin-bottom: 5px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                margin: 0;
            }

            .main-content,
            .header {
                padding-left: 15px;
                padding-right: 15px;
            }

            .form-container,
            .origin-verification {
                padding: 20px;
                margin: 20px 0;
            }

            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .page-title h1 {
                font-size: 28px;
            }

            .page-title p {
                font-size: 14px;
                padding: 0 10px;
            }

            .submit-btn {
                width: 100%;
                margin: 15px 0;
            }

            .footer {
                padding: 20px 15px;
            }

            .footer p {
                font-size: 13px;
            }

            .wm-logo {
                height: 50px;
            }
        }

        @media (max-width: 480px) {
            .main-content,
            .header {
                padding-left: 10px;
                padding-right: 10px;
            }

            .page-title h1 {
                font-size: 24px;
            }

            .form-container,
            .origin-verification {
                padding: 15px;
                border-radius: 8px;
            }

            input[type="text"],
            input[type="email"],
            input[type="tel"],
            input[type="date"],
            input[type="number"],
            select,
            textarea {
                padding: 10px 12px;
                font-size: 14px;
            }

            .submit-btn {
                padding: 12px 20px;
                font-size: 14px;
            }

            .footer {
                padding: 15px 10px;
            }

            .wm-logo {
                height: 45px;
            }
        }

        @media (max-width: 360px) {
            .page-title h1 {
                font-size: 20px;
            }

            .form-container,
            .origin-verification {
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <a href="https://aiddata.org">
                <img src="https://raw.githubusercontent.com/Seth-arc/scorms/main/Course_thumbnails/5e3c81fee74fc1743cc5f355_AidData_Logo--full_color.png" alt="AidData" class="logo" />
            </a>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Page Title -->
            <div class="page-title">
                <h1>Global South Origin Scholarship</h1>
                <div class="divider"></div>
                <p>Apply for our scholarship program designed for individuals of Global South origin who are currently based outside of Global South countries. This program recognizes the unique perspectives of Global South nationals living and working internationally.</p>
            </div>

            <!-- Origin Verification Section -->
            <div class="origin-verification">
                <div class="origin-title">Global South Origin Eligibility</div>
                <div class="origin-description">
                    This scholarship is specifically for individuals who originate from Global South countries but are currently residing or working outside of these regions. You are eligible if you:
                </div>
                <ul style="margin: 15px 0 15px 20px; color: #666;">
                    <li>Are a citizen or national of a Global South country</li>
                    <li>Were born in a Global South country</li>
                    <li>Have significant cultural/family ties to a Global South country</li>
                    <li>Are currently residing outside of Global South countries</li>
                </ul>
                <div class="info-box">
                    <strong>Important:</strong>
                    Unlike our location-based Global South scholarship, this program does not require you to be physically located in a Global South country. Instead, we focus on your origin, background, and connection to Global South communities.
                </div>
            </div>

            <!-- Application Form -->
            <form id="scholarshipForm" class="form-container">
                <!-- Hidden field to track scholarship type -->
                <input type="hidden" id="scholarshipType" name="scholarshipType" value="global-south-origin">
                
                <!-- Personal Information Section -->
                <div class="form-section">
                    <h3 class="section-title">Personal Information</h3>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label for="firstName">First Name <span class="required">*</span></label>
                            <input type="text" id="firstName" name="firstName" required>
                            <div class="error-text" id="firstName-error">Please enter your first name</div>
                        </div>
                        <div class="form-col">
                            <label for="lastName">Last Name <span class="required">*</span></label>
                            <input type="text" id="lastName" name="lastName" required>
                            <div class="error-text" id="lastName-error">Please enter your last name</div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label for="email">Email Address <span class="required">*</span></label>
                            <input type="email" id="email" name="email" required>
                            <div class="error-text" id="email-error">Please enter a valid email address</div>
                        </div>
                        <div class="form-col">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label for="currentCountry">Current Country of Residence <span class="required">*</span></label>
                            <input type="text" id="currentCountry" name="currentCountry" required placeholder="Where are you currently living?">
                            <div class="error-text" id="currentCountry-error">Please enter your current country of residence</div>
                        </div>
                        <div class="form-col">
                            <label for="currentCity">Current City</label>
                            <input type="text" id="currentCity" name="currentCity" placeholder="Your current city">
                        </div>
                    </div>
                </div>

                <!-- Global South Origin Section -->
                <div class="form-section">
                    <h3 class="section-title">Global South Origin Information</h3>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label for="originCountry">Country of Origin/Citizenship <span class="required">*</span></label>
                            <select id="originCountry" name="originCountry" required>
                                <option value="">Select your country of origin</option>
                                <!-- Options will be dynamically populated by JavaScript -->
                            </select>
                            <div class="error-text" id="originCountry-error">Please select your country of origin</div>
                        </div>
                        <div class="form-col">
                            <label for="birthCountry">Country of Birth</label>
                            <select id="birthCountry" name="birthCountry">
                                <option value="">Select your country of birth</option>
                                <!-- Options will be dynamically populated by JavaScript -->
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="citizenshipStatus">Citizenship/Nationality Status <span class="required">*</span></label>
                        <select id="citizenshipStatus" name="citizenshipStatus" required>
                            <option value="">Please select</option>
                            <option value="Citizen">Citizen of Global South country</option>
                            <option value="Dual Citizen">Dual citizen (including Global South country)</option>
                            <option value="Former Citizen">Former citizen of Global South country</option>
                            <option value="Permanent Resident">Former permanent resident of Global South country</option>
                            <option value="Cultural Ties">Strong cultural/family ties to Global South country</option>
                        </select>
                        <div class="error-text" id="citizenshipStatus-error">Please select your citizenship status</div>
                    </div>

                    <div class="form-group">
                        <label for="connectionToGlobalSouth">Describe your connection to the Global South <span class="required">*</span></label>
                        <textarea id="connectionToGlobalSouth" name="connectionToGlobalSouth" required placeholder="Please explain your personal, cultural, or professional connection to Global South countries. Include details about your background, family ties, work experience, or other relevant connections..."></textarea>
                        <div class="error-text" id="connectionToGlobalSouth-error">Please describe your connection to the Global South</div>
                    </div>

                    <div class="form-group">
                        <label for="timeOutsideGlobalSouth">How long have you been living outside of Global South countries?</label>
                        <select id="timeOutsideGlobalSouth" name="timeOutsideGlobalSouth">
                            <option value="">Please select</option>
                            <option value="Less than 1 year">Less than 1 year</option>
                            <option value="1-2 years">1-2 years</option>
                            <option value="3-5 years">3-5 years</option>
                            <option value="6-10 years">6-10 years</option>
                            <option value="More than 10 years">More than 10 years</option>
                            <option value="Born outside but maintain connections">Born outside but maintain strong connections</option>
                        </select>
                    </div>
                </div>

                <!-- Professional Background Section -->
                <div class="form-section">
                    <h3 class="section-title">Professional Background</h3>
                    
                    <div class="form-group">
                        <label for="organization">Current Organization/Institution <span class="required">*</span></label>
                        <input type="text" id="organization" name="organization" required>
                        <div class="error-text" id="organization-error">Please enter your organization</div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <label for="position">Current Position/Role <span class="required">*</span></label>
                            <input type="text" id="position" name="position" required>
                            <div class="error-text" id="position-error">Please enter your position</div>
                        </div>
                        <div class="form-col">
                            <label for="experience">Years of Experience</label>
                            <select id="experience" name="experience">
                                <option value="">Select experience level</option>
                                <option value="0-1">0-1 years</option>
                                <option value="2-5">2-5 years</option>
                                <option value="6-10">6-10 years</option>
                                <option value="11-15">11-15 years</option>
                                <option value="16+">16+ years</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="sector">Primary Sector <span class="required">*</span></label>
                        <select id="sector" name="sector" required>
                            <option value="">Select your sector</option>
                            <option value="Journalism">Journalism</option>
                            <option value="Civil Society Organization">Civil Society Organization</option>
                            <option value="Non-Governmental Organization">Non-Governmental Organization</option>
                            <option value="Government">Government</option>
                            <option value="Academic/Research">Academic/Research</option>
                            <option value="International Development">International Development</option>
                            <option value="Policy Analysis">Policy Analysis</option>
                            <option value="Data Analysis">Data Analysis</option>
                            <option value="Other">Other</option>
                        </select>
                        <div class="error-text" id="sector-error">Please select your sector</div>
                    </div>

                    <div class="form-group">
                        <label for="globalSouthWork">Do you work on issues related to Global South countries?</label>
                        <select id="globalSouthWork" name="globalSouthWork">
                            <option value="">Please select</option>
                            <option value="Yes, primarily">Yes, my work primarily focuses on Global South issues</option>
                            <option value="Yes, partially">Yes, part of my work involves Global South issues</option>
                            <option value="No, but interested">No, but I'm interested in Global South development</option>
                            <option value="No">No, my work is not related to Global South issues</option>
                        </select>
                    </div>
                </div>

                <!-- Education Section -->
                <div class="form-section">
                    <h3 class="section-title">Educational Background</h3>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <label for="education">Highest Education Level <span class="required">*</span></label>
                            <select id="education" name="education" required>
                                <option value="">Select education level</option>
                                <option value="High School">High School</option>
                                <option value="Bachelor's Degree">Bachelor's Degree</option>
                                <option value="Master's Degree">Master's Degree</option>
                                <option value="Doctoral Degree">Doctoral Degree</option>
                                <option value="Professional Certificate">Professional Certificate</option>
                                <option value="Other">Other</option>
                            </select>
                            <div class="error-text" id="education-error">Please select your education level</div>
                        </div>
                        <div class="form-col">
                            <label for="fieldOfStudy">Field of Study</label>
                            <input type="text" id="fieldOfStudy" name="fieldOfStudy">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="educationLocation">Where did you complete your highest education?</label>
                        <select id="educationLocation" name="educationLocation">
                            <option value="">Please select</option>
                            <option value="Global South country">In a Global South country</option>
                            <option value="Non-Global South country">In a non-Global South country</option>
                            <option value="Both">In both Global South and non-Global South countries</option>
                        </select>
                    </div>
                </div>

                <!-- Course Interest Section -->
                <div class="form-section">
                    <h3 class="section-title">Course Interest & Motivation</h3>
                    
                    <div class="form-group">
                        <label for="motivation">Why are you interested in the Global Development Finance course? <span class="required">*</span></label>
                        <textarea id="motivation" name="motivation" required placeholder="Please describe your motivation for taking this course and how it aligns with your professional goals..."></textarea>
                        <div class="error-text" id="motivation-error">Please describe your motivation</div>
                    </div>

                    <div class="form-group">
                        <label for="globalSouthPerspective">How do you think your Global South background will contribute to your understanding of development finance?</label>
                        <textarea id="globalSouthPerspective" name="globalSouthPerspective" placeholder="Please describe how your Global South origin and experiences will inform your perspective on development finance issues..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="experience_data">Do you have any prior experience with data analysis or journalism?</label>
                        <textarea id="experience_data" name="experience_data" placeholder="Please describe any relevant experience with data analysis, journalism, or development finance..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="expectations">What do you hope to achieve by completing this course? <span class="required">*</span></label>
                        <textarea id="expectations" name="expectations" required placeholder="Please describe your learning objectives and how you plan to apply the knowledge..."></textarea>
                        <div class="error-text" id="expectations-error">Please describe your expectations</div>
                    </div>

                    <div class="form-group">
                        <label for="futureApplication">How do you plan to apply the knowledge from this course to benefit Global South communities?</label>
                        <textarea id="futureApplication" name="futureApplication" placeholder="Please describe how you plan to use the skills and knowledge gained to contribute to Global South development or communities..."></textarea>
                    </div>
                </div>

                <!-- Additional Information Section -->
                <div class="form-section">
                    <h3 class="section-title">Additional Information</h3>
                    
                    <div class="form-group">
                        <label for="additional_info">Is there anything else you would like us to know about your application?</label>
                        <textarea id="additional_info" name="additional_info" placeholder="Any additional information that might support your scholarship application..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="hear_about">How did you hear about this scholarship opportunity?</label>
                        <select id="hear_about" name="hear_about">
                            <option value="">Please select</option>
                            <option value="AidData Website">AidData Website</option>
                            <option value="Email Newsletter">Email Newsletter</option>
                            <option value="Social Media">Social Media</option>
                            <option value="Colleague/Friend">Colleague/Friend</option>
                            <option value="Professional Network">Professional Network</option>
                            <option value="Academic Institution">Academic Institution</option>
                            <option value="Global South Community">Global South Community/Network</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>

                <!-- Terms and Conditions -->
                <div class="form-section">
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="terms" name="terms" required>
                            <label for="terms">I agree to the terms and conditions and understand that scholarship decisions will be communicated within 2-3 weeks of application submission. <span class="required">*</span></label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="privacy" name="privacy" required>
                            <label for="privacy">I consent to AidData processing my personal information for scholarship evaluation purposes. <span class="required">*</span></label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="originVerification" name="originVerification" required>
                            <label for="originVerification">I confirm that the information provided about my Global South origin and background is accurate and can be verified if requested. <span class="required">*</span></label>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="submit-container">
                    <button type="submit" class="submit-btn" id="submitBtn">Submit Application</button>
                    <div class="loading" id="loading">Submitting your application...</div>
                    <div class="success-message" id="successMessage">
                        <strong>Application Submitted Successfully!</strong><br>
                        Thank you for your Global South Origin scholarship application. We have received your information and will review it carefully. You should expect to hear back from us within 2-3 weeks. A confirmation email has been sent to your provided email address.
                    </div>
                    <div class="error-message" id="errorMessage">
                        <strong>Submission Error</strong><br>
                        There was an error submitting your application. Please check your internet connection and try again. If the problem persists, please contact us directly at <a href="mailto:training@aiddata.org">training@aiddata.org</a>.
                    </div>
                </div>
            </form>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Questions about the Global South Origin scholarship program?</p>
            <p>
                Email us at <a href="mailto:training@aiddata.org">training@aiddata.org</a> | 
                Visit our <a href="https://aiddata.org/training">website</a>
            </p>
            
            <div class="footer-divider"></div>
            
            <div>
                <a href="https://www.wm.edu">
                    <img src="https://cdn.prod.website-files.com/5914719ba6e62162556bd443/59d445067eedf20001205357_wm_vertical_single_line_white.png" alt="William & Mary" class="wm-logo" />
                </a>
            </div>
        </div>
    </div>

    <script>
        // Initialize EmailJS
        emailjs.init("tHLlMDU6cDEkdxBfg");

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            populateCountryDropdowns();
            initializeFormValidation();
        });

        // Populate country dropdowns with all countries (Global South countries first)
        function populateCountryDropdowns() {
            const originCountrySelect = document.getElementById('originCountry');
            const birthCountrySelect = document.getElementById('birthCountry');
            
            if (!originCountrySelect || !birthCountrySelect) return;

            // Clear existing options except the first one
            originCountrySelect.innerHTML = '<option value="">Select your country of origin</option>';
            birthCountrySelect.innerHTML = '<option value="">Select your country of birth</option>';

            // Sort all Global South countries alphabetically
            const sortedGlobalSouthCountries = allGlobalSouthCountries.sort();

            // Add Global South countries first (these are the eligible ones for origin)
            sortedGlobalSouthCountries.forEach(country => {
                const originOption = document.createElement('option');
                originOption.value = country;
                originOption.textContent = country;
                originCountrySelect.appendChild(originOption);

                const birthOption = document.createElement('option');
                birthOption.value = country;
                birthOption.textContent = country;
                birthCountrySelect.appendChild(birthOption);
            });

            // Add separator for origin country
            const separator = document.createElement('option');
            separator.disabled = true;
            separator.textContent = '--- Other Countries ---';
            originCountrySelect.appendChild(separator);
            
            const separator2 = document.createElement('option');
            separator2.disabled = true;
            separator2.textContent = '--- Other Countries ---';
            birthCountrySelect.appendChild(separator2);

            // Add other major countries for birth country dropdown
            const otherCountries = [
                'Australia', 'Austria', 'Belgium', 'Canada', 'Czech Republic', 'Denmark', 
                'Estonia', 'Finland', 'France', 'Germany', 'Greece', 'Hungary', 'Iceland', 
                'Ireland', 'Israel', 'Italy', 'Japan', 'Latvia', 'Lithuania', 'Luxembourg', 
                'Netherlands', 'New Zealand', 'Norway', 'Poland', 'Portugal', 'Slovakia', 
                'Slovenia', 'South Korea', 'Spain', 'Sweden', 'Switzerland', 'United Kingdom', 
                'United States'
            ].sort();

            otherCountries.forEach(country => {
                const originOption = document.createElement('option');
                originOption.value = country;
                originOption.textContent = country;
                originCountrySelect.appendChild(originOption);

                const birthOption = document.createElement('option');
                birthOption.value = country;
                birthOption.textContent = country;
                birthCountrySelect.appendChild(birthOption);
            });

            // Add "Other" option at the end
            const otherOriginOption = document.createElement('option');
            otherOriginOption.value = 'Other';
            otherOriginOption.textContent = 'Other';
            originCountrySelect.appendChild(otherOriginOption);

            const otherBirthOption = document.createElement('option');
            otherBirthOption.value = 'Other';
            otherBirthOption.textContent = 'Other';
            birthCountrySelect.appendChild(otherBirthOption);
        }

        // Form validation functions
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function validateField(field) {
            const value = field.value.trim();
            const fieldName = field.name;
            const errorElement = document.getElementById(fieldName + '-error');
            
            let isValid = true;
            let errorMessage = '';

            // Check if required field is empty
            if (field.hasAttribute('required') && !value) {
                isValid = false;
                errorMessage = 'This field is required';
            }
            
            // Specific validation for email
            if (fieldName === 'email' && value && !validateEmail(value)) {
                isValid = false;
                errorMessage = 'Please enter a valid email address';
            }

            // Specific validation for origin country (must be Global South)
            if (fieldName === 'originCountry' && value && !allGlobalSouthCountries.includes(value) && value !== 'Other') {
                isValid = false;
                errorMessage = 'Please select a Global South country for your origin';
            }

            // Show/hide error
            if (isValid) {
                field.classList.remove('invalid');
                if (errorElement) errorElement.style.display = 'none';
            } else {
                field.classList.add('invalid');
                if (errorElement) {
                    errorElement.textContent = errorMessage;
                    errorElement.style.display = 'block';
                }
            }

            return isValid;
        }

        // Initialize form validation
        function initializeFormValidation() {
            document.querySelectorAll('input, select, textarea').forEach(field => {
                field.addEventListener('blur', () => validateField(field));
                field.addEventListener('input', () => {
                    if (field.classList.contains('invalid')) {
                        validateField(field);
                    }
                });
            });
        }

        // Form submission
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('scholarshipForm').addEventListener('submit', async function(e) {
                e.preventDefault();

                // Validate all fields
                let isFormValid = true;
                const requiredFields = this.querySelectorAll('[required]');
                
                requiredFields.forEach(field => {
                    if (!validateField(field)) {
                        isFormValid = false;
                    }
                });

                if (!isFormValid) {
                    // Scroll to first invalid field
                    const firstInvalid = this.querySelector('.invalid');
                    if (firstInvalid) {
                        firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        firstInvalid.focus();
                    }
                    return;
                }

                // Prepare form data
                const formData = new FormData(this);
                const data = {};
                for (let [key, value] of formData.entries()) {
                    data[key] = value;
                }

                // Show loading state
                const submitBtn = document.getElementById('submitBtn');
                const loading = document.getElementById('loading');
                const successMessage = document.getElementById('successMessage');
                const errorMessage = document.getElementById('errorMessage');

                submitBtn.disabled = true;
                loading.style.display = 'block';
                successMessage.style.display = 'none';
                errorMessage.style.display = 'none';

                try {
                    // Send internal notification to training team
                    await emailjs.send(
                        'service_fg5k8q8',
                        'template_b8otaj6',
                        {
                            user_email: 'training@aiddata.org',
                            to_email: 'training@aiddata.org',
                            from_name: data.firstName + ' ' + data.lastName,
                            from_email: data.email,
                            reply_to: data.email,
                            subject: `AidData Global South Origin Scholarship Application - ${data.firstName} ${data.lastName}`,
                            
                            // Scholarship Information
                            scholarship_type: 'Global South Origin',
                            verified_email: 'N/A (No verification required)',
                            verified_location: 'N/A (Origin-based scholarship)',
                            
                            // Personal Information
                            first_name: data.firstName,
                            last_name: data.lastName,
                            email: data.email,
                            phone: data.phone || 'Not provided',
                            country: data.currentCountry,
                            city: data.currentCity || 'Not provided',
                            
                            // Origin Information
                            origin_country: data.originCountry,
                            birth_country: data.birthCountry || 'Not provided',
                            citizenship_status: data.citizenshipStatus,
                            connection_to_global_south: data.connectionToGlobalSouth,
                            time_outside_global_south: data.timeOutsideGlobalSouth || 'Not specified',
                            
                            // Professional Background
                            organization: data.organization,
                            position: data.position,
                            experience: data.experience || 'Not specified',
                            sector: data.sector,
                            global_south_work: data.globalSouthWork || 'Not specified',
                            
                            // Education
                            education: data.education,
                            field_of_study: data.fieldOfStudy || 'Not provided',
                            education_location: data.educationLocation || 'Not specified',
                            
                            // Course Interest
                            motivation: data.motivation,
                            global_south_perspective: data.globalSouthPerspective || 'None provided',
                            experience_data: data.experience_data || 'None specified',
                            expectations: data.expectations,
                            future_application: data.futureApplication || 'None provided',
                            
                            // Additional Information
                            additional_info: data.additional_info || 'None provided',
                            hear_about: data.hear_about || 'Not specified',
                            
                            // Timestamp
                            submission_date: new Date().toLocaleString()
                        }
                    );

                    // Send confirmation email to user
                    await emailjs.send(
                        'service_fg5k8q8',
                        'template_xvb981w',
                        {
                            user_email: data.email,
                            to_email: data.email,
                            from_name: 'AidData Training Team',
                            reply_to: 'training@aiddata.org',
                            subject: 'Global South Origin Scholarship Application Confirmation',
                            
                            // User-relevant information only
                            first_name: data.firstName,
                            last_name: data.lastName,
                            country: data.currentCountry,
                            current_position: data.position,
                            organization: data.organization,
                            submission_date: new Date().toLocaleString()
                        }
                    );

                    // Show success message
                    loading.style.display = 'none';
                    successMessage.style.display = 'block';
                    this.reset();
                    successMessage.scrollIntoView({ behavior: 'smooth' });

                } catch (error) {
                    console.error('Error sending email:', error);
                    
                    // Show error message
                    loading.style.display = 'none';
                    errorMessage.style.display = 'block';
                    submitBtn.disabled = false;
                    errorMessage.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    </script>
</body>
</html>
